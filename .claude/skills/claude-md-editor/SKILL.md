---
name: claude-md-editor
description: "このスキルはCLAUDE.mdを編集する際に使用する。ユーザーが「覚えて」「記憶して」「次からはこうして」等と言った場合や、AIの挙動に対してユーザーが修正・注文をつけた場合に、その内容をCLAUDE.mdに記録する。"
user-invocable: false
---

# CLAUDE.md編集スキル

このスキルは、ユーザーの好み・挙動調整をCLAUDE.mdに直接書き込む。

## 対象ファイル

| スコープ | ファイル |
|---------|---------|
| プロジェクト | `./CLAUDE.md`（プロジェクトルート） |
| グローバル | `C:\Users\SAKURAI\.claude\CLAUDE.md` |

## トリガー条件

### 明示的リクエスト
ユーザーが以下のような発言をした場合:
- 「覚えて」「記憶して」
- 「次からはこうして」
- 「今後は〜してほしい」
- 「これをルールに追加して」

### 暗黙的な学習機会
AIの挙動に対してユーザーが修正・フィードバックを行った場合:
- コードスタイルの修正指示
- 応答形式への不満・修正
- 「こうじゃなくてこうして」系のフィードバック
- 好みの明確化（「絵文字は使わないで」等）

## メモリ追加フロー

### 1. トリガー発生

明示的リクエストまたは暗黙的な学習機会を検知。

### 2. 記憶の確認（暗黙的な場合のみ）

暗黙的な学習機会の場合、まず確認する:
```
「この内容を記憶しますか？」
- はい → 次のステップへ
- いいえ → 終了
```

### 3. 保存先の確認

**必ず保存先を確認する:**
```
「どこに記録しますか？」
- プロジェクトのCLAUDE.md（このプロジェクト専用）
- グローバルのCLAUDE.md（全プロジェクト共通）
```

### 4. 追記先セクションの判断

既存のCLAUDE.mdを読み、内容に適したセクションを判断する:

| 内容 | 追記先セクション |
|------|----------------|
| コードスタイルの好み | 技術スタック / 実装方針 |
| 応答形式の好み | 基本姿勢 |
| 特定の注意事項 | 注意事項 |
| 新しいカテゴリ | 既存セクションに該当なければ新規作成 |

### 5. Diffの表示

編集内容を明示する:
```
【変更内容】
対象ファイル: [プロジェクト or グローバル]のCLAUDE.md
追加箇所: 「[セクション名]」セクション

変更前:
  - 既存の内容...

変更後:
  - 既存の内容...
  - **[新規項目]**: [内容]
```

### 6. 許可の取得

```
「この内容で書き換えていいですか？」
- はい → 編集を実行
- いいえ → 内容を修正して再提示
```

### 7. CLAUDE.mdの編集

許可を得た後、Editツールで該当ファイルを編集する。

## 書き込みルール

- **専用セクションは作らない**: 既存の構造に合わせて適切なセクションに追記
- 既存の記述スタイルに合わせる
- 重複する内容は上書き更新
- 必要に応じて日付コメントを付与（`<!-- YYYY-MM-DD -->`）

## グローバルCLAUDE.mdの編集

グローバルのCLAUDE.mdを編集する場合:
- ファイルパス: `C:\Users\SAKURAI\.claude\CLAUDE.md`
- Editツールで絶対パスを指定して編集

## 注意事項

- 機密情報（パスワード、APIキー等）は記録しない
- 一時的な情報は記録しない
- 編集前に必ずユーザーの許可を得る
- Diff表示は分かりやすく、何が変わるか明確にする
