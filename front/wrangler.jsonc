{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "hayakawa-front",
  "compatibility_date": "2024-12-01",
  "compatibility_flags": ["nodejs_compat"],

  // 静的アセット配信（Workers Static Assets）
  "assets": {
    "directory": "./dist"
  },

  // カスタムドメイン設定
  // デプロイ時に自動でDNS・SSL設定される
  // 既存のDNSレコードを上書きする
  "routes": [
    {
      "pattern": "hayakawa-gyoza.com",
      "custom_domain": true,
      "override_existing_dns_record": true
    },
    {
      "pattern": "www.hayakawa-gyoza.com",
      "custom_domain": true,
      "override_existing_dns_record": true
    }
  ],

  // 開発サーバー設定（Wranglerモード）
  // front は 8788 ポート固定（admin は 8789）
  "dev": {
    "port": 8788
  },

  // 環境変数（本番用）
  // ローカル開発時は .dev.vars で上書きされる
  // クライアントサイドで使用するため PUBLIC_ プレフィックスが必要
  "vars": {
    "PUBLIC_ADMIN_API_URL": "https://settei.hayakawa-gyoza.com"
  }
}
