# Claude Code プロジェクト設定

---

## プロジェクト概要

### 何を作るか
- モバイルファーストのシングルページHP（ホームページ）
- HTML1枚にCSS・JSを内包した構成
- 地元中小企業向けのシンプルなサイト
- 将来的にAstroでビルド予定

### 対象デバイス
- **メイン**: スマートフォン
- **サブ**: PC（一応見れる程度）

### 画面幅の設計基準
- **最小幅**: 375px（iPhone SE等を想定）
- **開発時max-width**: 390px（iPhone 14/15標準。スクショ確認時はこの幅で）
- **本番max-width**: 900px（PC閲覧時の上限、中央寄せ、Astroビルド後の最終調整で変更）

---

## 実装方針

### 基本姿勢
- **シンプルな実装を最優先する**
- 複雑な技術的解決より、単純で保守しやすい方法を選ぶ
- 迷ったら「より簡単な方」を採用する

### 技術スタック
- Tailwind CSS（CDN経由）を優先使用
- Tailwindで対応できない場合のみカスタムCSSを追加
- カスタムCSSはBEM記法で命名し、セクションごとに名前空間を分ける
- CSS変数（色・フォント等）は `:root` で管理（具体値はHTML内に記載）

### Tailwind CSS設定
- CDN経由で使用
- **preflightは無効化する**（ブラウザデフォルトを維持）
- 設定方法:
  ```html
  <script>
    tailwind.config = {
      corePlugins: {
        preflight: false
      }
    }
  </script>
  ```

### 画像の取り扱い
- 形式はWebP推奨（透過が必要な場合はPNG）
- ファイル名は小文字英数字、ハイフン区切り
- width / height属性を必ず指定（CLS防止）
- ファーストビュー以外は loading="lazy" を付与
- 複雑なマスク処理等は避け、画像自体を加工して対応する

### アクセシビリティ
- 適切な見出し階層（h1 → h2 → h3）
- alt属性の設定
- 十分なコントラスト比
- タッチターゲット最小44x44px

---

## ローカル確認方法

### HTMLファイルの確認
- 「index.htmlを起動」「HTMLを開いて」「ブラウザで確認」等の指示には `start-server` スキルを使用
- 単純なサーバー起動ではなく、ブラウザ連携まで含めて対応する

### ローカルサーバー起動（手動）
```bash
python -m http.server 3000 --directory ./sample
```
アクセス: http://localhost:3000

### スクリーンショット確認
- スクショ撮影が一度失敗しても、再度試行すること
- ユーザーが明示的に拒否していない限り、リトライで成功する場合がある
- 確認時はブラウザ幅を390px程度に設定してスマホ表示で確認する

---

## 画像生成スクリプト

- **placeholder_generator.py**: ダミー画像の生成
- **image_processor.py**: 既存画像のリサイズ・WebP変換

---

## 基本設定

### 文字コード
- 指示がない限り UTF-8 を使用

### 保存場所の優先順位
1. ユーザーがチャットで指示した場所
2. 提供された指示書に記載された場所
3. 指示書と同じ階層
4. プロジェクトルート/_doc/_temp/

---

## Python環境

仮想環境を使用。グローバルのPythonは使わない。

- **実行**: `.venv/Scripts/python.exe`
- **インストール**: `.venv/Scripts/pip.exe`

---

## パス表記ルール

- 1行のパス: バッククォートで囲む
- 複数行: コードブロックで囲む
- ユーザーが提示した表記をそのまま維持（正規化しない）

---

## 注意事項

- **高さ制御**: `min-height` + `max-height` は子要素に押し広げられる → `height: min(100svh, 900px)` を使う