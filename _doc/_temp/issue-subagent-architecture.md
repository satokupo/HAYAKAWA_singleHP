# GitHub Issue Draft: スキルのサブエージェント化の検討

> このファイルはGitHub Issueとして作成予定の内容です。
> 担当AIはこの内容を読み込み、議論を継続してください。

---

## Issue Title

`スキルのサブエージェント化の検討`

---

## Issue Body

### 概要

現在スキルとして構築している機能の一部を、サブエージェントとして分離することを検討したい。

### 対象範囲

- このリポジトリ内のスキル（`.claude/skills/`）
- グローバルに配置しているスキル

### サブエージェント化の目的

- **速度向上**: 並列実行可能なタスクを同時処理
- **コンテキストの効率的な運用**: メイン会話のコンテキスト汚染を抑える
- **品質の均質化**: 特定タスクの処理を専門化・標準化

### 検討ポイント

- 並列実行可能 / ユーザーとのやり取りが不要なものはサブエージェント向き
- pyファイルで処理をまとめているものはスキルのままか、エージェントに振るべきか
- 関連機能はなるべくまとめておきたい（分割しすぎない）

### 今後の進め方

1. 現状のスキル一覧を整理
2. 各スキルの特性を分類（並列可/不可、対話必要/不要など）
3. サブエージェント化の判断基準を策定
4. 段階的に移行

---

## 事前議論メモ（2026-01-23）

以下は本Issueを作成する前のユーザーとAIの議論内容。

### エージェント化の判断基準（暫定）

#### エージェント向き
- 複数ファイルを横断して調査・分析（コードベース探索、依存関係調査）
- 並列で大量実行（10ファイル同時リファクタ、大量テスト実行）
- 結果だけ欲しい処理（調べて報告、検証して結果返却）
- コンテキストが重くなる処理（長いログ解析、大量ファイル読み込み）

#### スキルのまま向き
- ユーザーとの対話が必要
- pyファイル等で処理が完結（bashで呼ぶだけ）
- ルール・リファレンス参照系
- メインAIの判断が途中で必要

### pyファイルについて

pyで処理が完結しているものはエージェント化のメリットが薄い。

理由：
- py実行はbash一発で終わる（コンテキスト消費が少ない）
- エージェント起動のオーバーヘッドの方が大きい
- 引数を渡すだけなら、直接bash呼ぶのと変わらない

### このリポジトリのスキル評価

| スキル | 判断 | 理由 |
|--------|------|------|
| section-skeleton-builder | スキルのまま | ユーザー確認フェーズがある。pyは単純なバッチ処理 |
| claude-md-editor | スキルのまま | 保存先確認、許可取得など対話が必須 |
| astro-rules | スキルのまま | 単なるリファレンス |

### エージェントの自発的利用

エージェントもTaskツールで自発的に呼び出せる。スキルと同様に条件定義しておけばAIが判断して起動する。

---

## TODO for 担当AI

- [ ] このファイルをGitHub Issueとして作成
- [ ] グローバルスキルの一覧も確認・評価
- [ ] ユーザーと議論を継続し、判断基準を確定
- [ ] 必要に応じてエージェント化を実装
